<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="utf-8">
  <title>Web Components</title>

  <meta name="author" content="Thomas Weinert">
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:website" content="@ThomasWeinert"/>
  <meta property="og:url" content="https://thomas.weinert.info/talk-web-components/"/>
  <meta property="og:title" content="Talk: Web Components"/>
  <meta property="og:description"
        content="An introduction into web components."/>
  <meta property="og:image" content="https://thomas.weinert.info/talk-web-components/images/web-components.png" />


  <meta name="apple-mobile-web-app-capable" content="yes"/>
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="./node_modules/reveal.js/dist/reveal.css">
  <link rel="stylesheet" id="theme" href="./node_modules/reveal.js/dist/theme/black.css">
  <link rel="stylesheet" id="highlight-theme" href="./themes/code/github.css">
  <link rel="stylesheet" href="./styles.css">
</head>

<body>

<div class="reveal">

  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section>
      <section>
        <h1>
          Web Components
          <small style="display: block">Introduction</small>
        </h1>
        <img src="./images/web-components-cropped.png" alt="" style="height: 250px;"/>
        <br>
        <small>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="inline-icon">
            <use href="images/icons/mastodon.svg#icon"/>
          </svg>
          @thw@phpc.social
        </small>
      </section>
      <section>
        <h2>About Me</h2>
        <div style="display: flex; align-items: center; justify-content: space-around;">
          <ul>
            <li>Application Developer</li>
            <li>Programming >= 25 years</li>
            <li>XML Fanatic</li>
            <li>Casual Cyclist</li>
          </ul>
          <div>
            <img
              src="./images/my-brompton.jpg"
              alt="My Brompton folding bicycle on the banks of the river Rhine."
              style="width: 20vw;">
          </div>
        </div>
      </section>
      <section data-menu-title="Skills">
        <h2>My History</h2>
        <img src="./images/skills.svg" alt=""/>
      </section>
    </section>
    <section>
      <section>
        <h2>Overview</h2>
      </section>
      <section>
        <h2>What?</h2>
        <ul>
          <li class="fragment">Custom HTML elements</li>
          <li class="fragment">Shadow DOM</li>
        </ul>
      </section>
      <section>
        <h2>Why?</h2>
        <ul>
          <li class="fragment">Standard browser api</li>
          <li class="fragment">No framework runtime</li>
          <li class="fragment">Small bootstrap</li>
          <li class="fragment">Framework independent</li>
        </ul>
      </section>
      <section>
        <h2>How?</h2>
        <ul>
          <li class="fragment">
            <h4>Autonomous Custom Element</h4>
            <pre data-badge-position="br"><code class="language-html">&lt;hello-world>&lt;/hello-world></code></pre>
          </li>
          <li class="fragment">
            <h4>Custom Built-In Elements</h4>
            <pre data-badge-position="br"><code class="language-html">&lt;span is="hello-world">&lt;/span></code></pre>
          </li>
        </ul>
      </section>
      <section>
        <h2>Can I Use?</h2>
        <ul>
          <li class="fragment">77.76% + 18.22% = 95.98%</li>
          <li class="fragment">Safari, only autonomous custom element</li>
          <li class="fragment">Polyfills!</li>
        </ul>
      </section>
    </section>
    <section>
      <section>
        <h2>Hello World</h2>
      </section>
      <section data-menu-title="Usage">
        <pre><code class="language-html" data-sample='examples/hello-world/hello-world.html#11'></code></pre>
        <iframe src="./examples/hello-world/hello-world.html"></iframe>
      </section>
      <section data-menu-title="Implementation">
        <pre><code class="language-js" data-sample='examples/hello-world/hello-world.component.js'></code></pre>
      </section>
      <section data-menu-title="DOM">
        <img src="./images/inspect/hello-world.png" alt=""/>
      </section>
    </section>
    <section>
      <section>
        <h2>Registration</h2>
      </section>
      <section>
        <h2>Define</h2>
        <pre><code class="language-js" data-sample='examples/hello-world/hello-world.component.js#13'></code></pre>
      </section>
      <section>
        <h2>Naming</h2>
        <ul>
          <li>start with an ASCII lowercase letter (a-z)</li>
          <li>>= 1 hyphen</li>
          <li>not contain any ASCII uppercase letters</li>
          <li>not reserved name</li>
        </ul>
        <pre><code class="language-text">"-" | "." | [0-9] | "_" | [a-z] | #xB7 | [#xC0-#xD6] |
[#xD8-#xF6] | [#xF8-#x37D] | [#x37F-#x1FFF] |
[#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] |
[#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] |
[#xFDF0-#xFFFD] | [#x10000-#xEFFFF]</code></pre>
      </section>
      <section>
        <h2>CustomElementRegistry</h2>
        <ul>
          <li>define(name, constructor)</li>
          <li>get(name)</li>
          <li>getName(constructor)</li>
          <li>upgrade(root)</li>
          <li>whenDefined(name)
            <ul>:not(:defined)</ul>
          </li>
        </ul>
      </section>
    </section>
    <section>
      <section>
        <h2>API</h2>
      </section>
      <section>
        <h2>Class/Constructor</h2>
        <ul>
          <li>Extend HTMLElement</li>
          <li>Call parent constructor</li>
          <li>
            Restrictions!
            <ul>
              <li>No Attributes Write
                <ul>
                  <li>No DataSet Write</li>
                  <li>No ClassList Write</li>
                </ul>
              </li>
              <li>No Global Event Listeners</li>
            </ul>
          </li>
        </ul>
      </section>
      <section>
        <h2>Connected Callback</h2>
        <pre><code class="language-js"
                   data-sample='examples/click-tracker/click-tracker.component.js#12-17'></code></pre>
      </section>
      <section>
        <h2>Disconnected Callback</h2>
        <pre><code class="language-js"
                   data-sample='examples/click-tracker/click-tracker.component.js#19-21'></code></pre>
      </section>
      <section data-menu-title="Display">
        <iframe src="./examples/click-tracker/click-tracker.html"></iframe>
      </section>
      <section>
        <h2>AttributeChanged Callback</h2>
        <pre><code class="language-js" data-sample='examples/hello/hello.component.js#1-6,18-27'></code></pre>
      </section>
      <section data-menu-title="Usage">
        <pre><code class="language-html" data-sample='examples/hello/hello.html#12,17-19'></code></pre>
        <iframe src="./examples/hello/hello.html"></iframe>
      </section>
    </section>
    <section>
      <section>
        <h2>Styles</h2>
      </section>
      <section data-menu-title="Display">
        <iframe src="./examples/hello-styled/hello.html"></iframe>
      </section>
      <section data-menu-title="Implementation">
        <pre><code class="language-js" data-sample='examples/hello-styled/hello.component.js#1,7-21'></code></pre>
      </section>
    </section>
    <section>
      <section>
        <h2>Slots</h2>
      </section>
      <section data-menu-title="Usage">
        <pre><code class="language-html" data-sample='examples/app-shell/app-shell.html#11-15'></code></pre>
        <iframe src="./examples/app-shell/app-shell.html"></iframe>
      </section>
      <section data-menu-title="Implementation">
        <pre><code class="language-js" data-sample='examples/app-shell/app-shell.component.js#17-28'></code></pre>
      </section>
      <section data-menu-title="Style">
        <pre><code class="language-js" data-sample='examples/app-shell/app-shell.component.js#3-16'></code></pre>
      </section>
      <section>
        <img src="./images/inspect/app-shell.png" alt=""/>
      </section>
    </section>
    <section>
      <section>
        <h2>Templates</h2>
      </section>
      <section data-menu-title="Implementation">
        <pre><code class="language-html" data-sample='examples/template/template.html#6-19'></code></pre>
      </section>
      <section data-menu-title="Usage">
        <iframe src="./examples/template/template.html"></iframe>
      </section>
      <section data-menu-title="Inspect">
        <img src="./images/inspect/template.png" alt=""/>
      </section>
    </section>
    <section>
      <section>
        <h2>TypeScript</h2>
      </section>
      <section data-menu-title="Part 1">
        <h3>TypeScript</h3>
        <pre><code class="language-typescript" data-sample='examples/hello-typescript/hello.component.ts#1-11'></code></pre>
      </section>
      <section data-menu-title="Part 2">
        <h3>TypeScript</h3>
        <pre><code class="language-typescript" data-sample='examples/hello-typescript/hello.component.ts#13-21'></code></pre>
      </section>
      <section data-menu-title="Part 3">
        <h3>TypeScript</h3>
        <pre><code class="language-typescript" data-sample='examples/hello-typescript/hello.component.ts#23-34'></code></pre>
      </section>
    </section>
    <section>
      <section>
        <h2>SCSS</h2>
      </section>
      <section data-menu-title="Usage">
        <pre><code class="language-typescript" data-sample='examples/hello-typescript-scss/hello.component.ts#3'></code></pre>
        <pre><code class="language-typescript" data-sample='examples/hello-typescript-scss/hello.component.ts#13-23'></code></pre>
      </section>
      <section>
        <h2>WebPack / sass-to-string</h2>
        <pre><code class="language-js" data-sample='examples/hello-typescript-scss/webpack.config.js#3,15,16,21-32'></code></pre>
      </section>
    </section>
    <section>
      <section>
        <h2>Storybook</h2>
      </section>
      <section data-menu-title="Screenshot">
        <img src="images/storybook.png" alt="">
      </section>
    </section>
    <section>
      <section>
        <h2>Tests</h2>
      </section>
      <section data-menu-title="Screenshot">
        <h2>Jest + Jasmine</h2>
      </section>
    </section>
    <section>
      <section>
        <h2>AutoComplete</h2>
      </section>
      <section>
        <h3>Intellj Idea</h3>
        <a href="https://github.com/JetBrains/web-types">
          https://github.com/JetBrains/web-types
        </a>
        <pre data-badge="composer.json"><code class="language-json">{"web-types": "./src/web-types.json"}</code></pre>
        <pre><code class="language-json" data-sample='examples/hello-typescript/web-types.json'></code></pre>
      </section>
      <section>
        <h3>VS Code</h3>
        <a href="https://github.com/microsoft/vscode-html-languageservice/blob/main/docs/customData.md">
          https://github.com/microsoft/vscode-html-languageservice/blob/main/docs/customData.md
        </a>
        <pre><code class="language-json">{
  "tags": [
    {
      "name": "cui-hello",
      "description": "Target of an hello",
      "attributes": [
        { "name": "target" },
      ]
    }
  ]
}</code></pre>

      </section>
    </section>
    <section>
      <section>
        <h3>Annotation</h3>
      </section>
      <section data-menu-title="Usage">
        <pre><code class="language-typescript" data-sample='examples/hello-annotation/hello.component.ts#4-12'></code></pre>
      </section>
      <section data-menu-title="Component">
        <pre><code class="language-typescript" data-sample='examples/web-component/web-component.ts#40-49'></code></pre>
      </section>
      <section data-menu-title="Register">
        <pre><code class="language-typescript" data-sample='examples/web-component/web-component.ts#24-38'></code></pre>
      </section>
      <section data-menu-title="Attributes">
        <pre><code class="language-typescript" data-sample='examples/web-component/web-component.ts#7-22'></code></pre>
      </section>
    </section>
    <section data-menu-title="Thanks">
      <img src="./images/thanks.png" alt="Thanks" style="height: 250px;">
      <ul>
        <li>
          <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components">
            https://developer.mozilla.org/en-US/docs/Web/API/Web_components
          </a>
        </li>
        <li>
          <a href="https://www.webcomponents.org/">
            https://www.webcomponents.org/
          </a>
        </li>
        <li>
          <a href="https://github.com/webcomponents/">
            https://github.com/webcomponents/
          </a>
        </li>
      </ul>
    </section>
  </div>
</div>
<script type="module" src="./main.js"></script>
</body>
</html>
